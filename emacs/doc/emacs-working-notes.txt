emacs-working-notes.txt

 3-May-05 tc@DinkumSoftware.com 

After fedora core 3 bringup on blinky, there were some
emacs issues:
x    cut/paste to clipboard doesn't work
x    ls spews terminal escape sequences in shell
x    background color wrong

<start> **** cut/paste to clipboard doesn't work

menu-bar-enable-clipboard     M-x menu-bar-enable-clipboard RET
  Command: Make CUT, PASTE and COPY (keys and menu bar items) use the clipboard.

It's being invoked in:
     ~/.tc-toolbox/emacs/mylisp/AAA.emacs
but doesn't seem to work any more.
doesn't work manually

ESC-X clipboard-kill-region seems to work

I'm running version; 21.3.1

google menu-bar-enable-clipboard
       For I am the clipboard master

       Those of you using emacs might have gotten very frustrated
       because its clipboard handling sucks. Instead of cutting and
       pasting using the CLIPBOARD selection, it uses the PRIMARY
       selection. So very broken...

       Anyway, there's an easy way to fix this, just add:

       (menu-bar-enable-clipboard)
       (setq x-select-enable-clipboard t)

       to your .emacs and you're set!

set-variable x-select-enable-clipboard t
didn't seem to make it work.

Trying editting AAA-.emacs didn't make it work either



http://www.oreillynet.com/pub/wlg/6162 

    http://www.emacswiki.org/cgi-bin/wiki/CopyAndPaste
    The above link probably has enough information in disjointed form
    for you to cobble together a working solution for you, but in a
    nutshell what worked for me with GNU Emacs 21.3-17 in Fedora Core
    3 was adding the following to my .emacs::

        (setq x-select-enable-clipboard t)
        (setq interprogram-paste-function 'x-cut-buffer-or-selection-value)

  
Current values:
    interprogram-cut-function's value is x-select-text
    interprogram-paste-function's value is x-cut-buffer-or-selection-value

so that's not it

sigh...

With no clipboard stuff in AAA-emacs
    interprogram-cut/past-functions are
        cut: x-select-text
        paste: x-cut-buffer-or-selection-value

    Menubar Edit says:
        cut    (C-w)    fails
        copy   (M-w)    fails
        paste  (C-y)    works

    These seem to work:
        ESC-x clipboard-yank
        ESC-x clipboard-kill-region

    These:
       works          C-y        yank              no doco about clipboard
       fails          esc-w      kill-ring-save    doco about interprogram-cut-function

So out of the box, with no modifications in AAA-.emacs
We can get text FROM clipboard to emacs
We cannot get text FROM emacs into gnome app.
   
So 
    clipboard-kill-region    works

    (M-w) kill-ring-save     fails
     interprogram-cut-function is x-select-text
     x-select-enable-clipboard nil

(setq x-select-enable-clipboard t) gets text FROM emacs into gnome app!
from the menu as well as (M-w) (C-y)

<end> **** cut/paste to clipboard doesn't work




<start>***     ls spews terminal escape sequences in shell

It's an ls problem, not an emacs problem.
term settings and the like are the same between luna (core 1)
and blinky (core 30

luna's ls works fine on blinky
    luna:   ls (coreutils) 5.0
    blinky: ls (coreutils) 5.2.1

Didn't see anything in ls changelog that directly
related.

From newsgroup comp.emacs

> M-x shell ls
> every item is the lest is wrapped with
> ^[[0m someOtherChar-different for item to item itemName ^[[0m

In your .emacs add the following:

(add-hook 'shell-mode-hook 'ansi-color-for-comint-mode-on)

bingo! it worked

<end> *** ls spews terminal escape sequences in shell




     
